#include <iostream>
#include <cstdlib>
using namespace std;

class IAttackStrategy
{
public:
    virtual void attack() = 0; //가장 핵심 함수
    virtual ~IAttackStrategy() = default;
};
class FireAttack : public IAttackStrategy
{
public:
    void attack() override{
        cout << "화공으로 공격합니다." << endl;
    }
};
class WaterAttack : public IAttackStrategy
{
public:
    void attack() override{
        cout << "수공으로 공격합니다." << endl;
    }
};
class PhysicalAttack : public IAttackStrategy
{
public:
    void attack() override{
        cout << "물리력으로 공격합니다." << endl;
    }
};

class Character
{
private:
    string name;
    IAttackStrategy* strategy = nullptr;
public:
    Character(string name) : name(name){}
    void setStrategy(IAttackStrategy& s){
        strategy = &s;
    }
    void Attack(){
        if(!strategy){
            cout << "(경고) 전략없음\n";
        }
        return strategy->attack();
    }
};

int main()
{
    Character hero("Lee Sun Sin");

    FireAttack fire;
    WaterAttack water;
    PhysicalAttack phsy;

    hero.setStrategy(fire);
    hero.Attack();
     hero.setStrategy(water);
    hero.Attack();
     hero.setStrategy(phsy);
    hero.Attack();
    return 0;
}
